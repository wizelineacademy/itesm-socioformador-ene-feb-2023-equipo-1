{
  "version": 3,
  "sources": ["empty-module:app/utils/db.server", "browser-route-module:routes\\employees\\getByDeparment\\$id.js?browser", "../../../../../app/routes/employees/getByDeparment/$id.js", "../../../../../app/controllers/employees/list.js"],
  "sourcesContent": ["module.exports = {};", "export { default } from \"./routes\\\\employees\\\\getByDeparment\\\\$id.js\";", "import listEmployees from 'app/controllers/employees/list';\r\n\r\nexport const loader = async (data) => {\r\n  const { params } = data;\r\n  if (params.id === -1 || params.id === 'undefined') {\r\n    return [];\r\n  }\r\n  const employess = await listEmployees(params.id);\r\n  return employess;\r\n};\r\n\r\nexport default loader;\r\n", "import { db } from 'app/utils/db.server';\r\n\r\nconst listEmployees = async (id) => {\r\n  const idValue = parseInt(id, 10);\r\n  const relations = await db.EmployeesDepartments.findMany({\r\n    where: {\r\n      department_id: idValue,\r\n    },\r\n    distinct: ['email'],\r\n    include: {\r\n      users: true,\r\n    },\r\n  });\r\n  return relations.map((rel) => ({ name: rel.users.full_name, id: rel.employee_id }));\r\n};\r\n\r\nexport default listEmployees;\r\n"],
  "mappings": ";;;;;;;AAAA;AAAA;AAAA;AAAA,WAAO,UAAU;AAAA;AAAA;;;ACAjB;;;ACAA;;;ACAA;AAAA,gBAAmB;AAEnB,IAAM,gBAAgB,OAAO,OAAO;AAClC,QAAM,UAAU,SAAS,IAAI;AAC7B,QAAM,YAAY,MAAM,aAAG,qBAAqB,SAAS;AAAA,IACvD,OAAO;AAAA,MACL,eAAe;AAAA;AAAA,IAEjB,UAAU,CAAC;AAAA,IACX,SAAS;AAAA,MACP,OAAO;AAAA;AAAA;AAGX,SAAO,UAAU,IAAI,CAAC,QAAS,GAAE,MAAM,IAAI,MAAM,WAAW,IAAI,IAAI;AAAA;AAGtE,IAAO,eAAQ;;;ADdR,IAAM,SAAS,OAAO,SAAS;AACpC,QAAM,EAAE,WAAW;AACnB,MAAI,OAAO,OAAO,MAAM,OAAO,OAAO,aAAa;AACjD,WAAO;AAAA;AAET,QAAM,YAAY,MAAM,aAAc,OAAO;AAC7C,SAAO;AAAA;AAGT,IAAO,aAAQ;",
  "names": []
}
